"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[7360],{4352:(n,e,r)=>{r.r(e),r.d(e,{assets:()=>d,contentTitle:()=>c,default:()=>p,frontMatter:()=>i,metadata:()=>t,toc:()=>a});var s=r(4848),l=r(8453);const i={},c=void 0,t={id:"\u8ba1\u7b97\u673a\u57fa\u7840/\u64cd\u4f5c\u7cfb\u7edf/\u6df1\u5165\u7406\u89e3\u9875\u4ea4\u6362\u7b97\u6cd5\uff1a\u4f18\u5316\u5185\u5b58\u7ba1\u7406\u7684\u5173\u952e",title:"\u6df1\u5165\u7406\u89e3\u9875\u4ea4\u6362\u7b97\u6cd5\uff1a\u4f18\u5316\u5185\u5b58\u7ba1\u7406\u7684\u5173\u952e",description:"\u8f6c\u81ea\uff1a\u6df1\u5ea6Linux",source:"@site/docs/\u8ba1\u7b97\u673a\u57fa\u7840/\u64cd\u4f5c\u7cfb\u7edf/\u6df1\u5165\u7406\u89e3\u9875\u4ea4\u6362\u7b97\u6cd5\uff1a\u4f18\u5316\u5185\u5b58\u7ba1\u7406\u7684\u5173\u952e.md",sourceDirName:"\u8ba1\u7b97\u673a\u57fa\u7840/\u64cd\u4f5c\u7cfb\u7edf",slug:"/\u8ba1\u7b97\u673a\u57fa\u7840/\u64cd\u4f5c\u7cfb\u7edf/\u6df1\u5165\u7406\u89e3\u9875\u4ea4\u6362\u7b97\u6cd5\uff1a\u4f18\u5316\u5185\u5b58\u7ba1\u7406\u7684\u5173\u952e",permalink:"/docs/\u8ba1\u7b97\u673a\u57fa\u7840/\u64cd\u4f5c\u7cfb\u7edf/\u6df1\u5165\u7406\u89e3\u9875\u4ea4\u6362\u7b97\u6cd5\uff1a\u4f18\u5316\u5185\u5b58\u7ba1\u7406\u7684\u5173\u952e",draft:!1,unlisted:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/\u8ba1\u7b97\u673a\u57fa\u7840/\u64cd\u4f5c\u7cfb\u7edf/\u6df1\u5165\u7406\u89e3\u9875\u4ea4\u6362\u7b97\u6cd5\uff1a\u4f18\u5316\u5185\u5b58\u7ba1\u7406\u7684\u5173\u952e.md",tags:[],version:"current",frontMatter:{},sidebar:"computer_fundamentals",previous:{title:"\u4e00\u7bc7\u6587\u7ae0\u8ba9\u4f60\u771f\u6b63\u641e\u61c2epoll\u673a\u5236",permalink:"/docs/\u8ba1\u7b97\u673a\u57fa\u7840/\u64cd\u4f5c\u7cfb\u7edf/\u4e00\u7bc7\u6587\u7ae0\u8ba9\u4f60\u771f\u6b63\u641e\u61c2epoll\u673a\u5236"},next:{title:"\u7ea2\u9ed1\u6811",permalink:"/docs/\u8ba1\u7b97\u673a\u57fa\u7840/\u7b97\u6cd5\u6570\u636e\u7ed3\u6784/\u7ea2\u9ed1\u6811"}},d={},a=[{value:"\u4e00\u3001\u6982\u8ff0",id:"\u4e00\u6982\u8ff0",level:2},{value:"\u9875\u9762\u7f6e\u6362\u8fc7\u7a0b",id:"\u9875\u9762\u7f6e\u6362\u8fc7\u7a0b",level:3},{value:"\u9875\u9762\u8d70\u5411",id:"\u9875\u9762\u8d70\u5411",level:3},{value:"\u4e8c\u3001\u6700\u4f73\u7f6e\u6362\u7b97\u6cd5\uff08OPT\uff09",id:"\u4e8c\u6700\u4f73\u7f6e\u6362\u7b97\u6cd5opt",level:2},{value:"\u7b97\u6cd5\u601d\u60f3",id:"\u7b97\u6cd5\u601d\u60f3",level:3},{value:"<strong>\u5177\u4f53\u7b97\u6cd5</strong>",id:"\u5177\u4f53\u7b97\u6cd5",level:3},{value:"\u4e09\u3001\u5148\u8fdb\u5148\u51fa\u6cd5(FINO)",id:"\u4e09\u5148\u8fdb\u5148\u51fa\u6cd5fino",level:2},{value:"\u7b97\u6cd5\u5b9e\u73b0",id:"\u7b97\u6cd5\u5b9e\u73b0",level:3},{value:"\u7b97\u6cd5\u5206\u6790",id:"\u7b97\u6cd5\u5206\u6790",level:3},{value:"\u56db\u3001\u7ecf\u5178LRU\u94fe\u8868\u7b97\u6cd5",id:"\u56db\u7ecf\u5178lru\u94fe\u8868\u7b97\u6cd5",level:2},{value:"<strong>\u5c06\u9875\u9762\u52a0\u5165 LRU \u94fe\u8868</strong>",id:"\u5c06\u9875\u9762\u52a0\u5165-lru-\u94fe\u8868",level:3},{value:"\u4e94\u3001\u65f6\u949f\u7f6e\u6362\u7b97\u6cd5",id:"\u4e94\u65f6\u949f\u7f6e\u6362\u7b97\u6cd5",level:2},{value:"\u516d\u3001\u603b\u7ed3",id:"\u516d\u603b\u7ed3",level:2}];function u(n){const e={blockquote:"blockquote",code:"code",h2:"h2",h3:"h3",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,l.R)(),...n.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(e.blockquote,{children:["\n",(0,s.jsx)(e.p,{children:"\u8f6c\u81ea\uff1a\u6df1\u5ea6Linux"}),"\n"]}),"\n",(0,s.jsxs)(e.blockquote,{children:["\n",(0,s.jsx)(e.p,{children:"\u9875\u4ea4\u6362\u7b97\u6cd5\uff0c\u4e5f\u79f0\u4e3a\u9875\u9762\u7f6e\u6362\u7b97\u6cd5\uff0c\u662f\u64cd\u4f5c\u7cfb\u7edf\u4e2d\u7528\u4e8e\u7ba1\u7406\u865a\u62df\u5185\u5b58\u7684\u91cd\u8981\u7ec4\u6210\u90e8\u5206\u3002\u5f53\u7269\u7406\u5185\u5b58\u4e0d\u8db3\u65f6\uff0c\u64cd\u4f5c\u7cfb\u7edf\u9700\u8981\u5c06\u90e8\u5206\u9875\u9762\uff08\u6216\u8005\u79f0\u4e3a\u9875\uff09\u4ece\u5185\u5b58\u4e2d\u4ea4\u6362\u5230\u78c1\u76d8\u4e0a\uff0c\u4ee5\u91ca\u653e\u51fa\u7a7a\u95f4\u4f9b\u5176\u4ed6\u9875\u9762\u4f7f\u7528\u3002"}),"\n"]}),"\n",(0,s.jsxs)(e.blockquote,{children:["\n",(0,s.jsx)(e.p,{children:"\u5728\u5730\u5740\u6620\u5c04\u8fc7\u7a0b\u4e2d\uff0c\u82e5\u5728\u9875\u9762\u4e2d\u53d1\u73b0\u6240\u8981\u8bbf\u95ee\u7684\u9875\u9762\u4e0d\u5728\u5185\u5b58\u4e2d\uff0c\u5219\u4ea7\u751f\u7f3a\u9875\u4e2d\u65ad\u3002\u5f53\u53d1\u751f\u7f3a\u9875\u4e2d\u65ad\u65f6\uff0c\u5982\u679c\u64cd\u4f5c\u7cfb\u7edf\u5185\u5b58\u4e2d\u6ca1\u6709\u7a7a\u95f2\u9875\u9762\uff0c\u5219\u64cd\u4f5c\u7cfb\u7edf\u5fc5\u987b\u5728\u5185\u5b58\u9009\u62e9\u4e00\u4e2a\u9875\u9762\u5c06\u5176\u79fb\u51fa\u5185\u5b58\uff0c\u4ee5\u4fbf\u4e3a\u5373\u5c06\u8c03\u5165\u7684\u9875\u9762\u8ba9\u51fa\u7a7a\u95f4\u3002\u800c\u7528\u6765\u9009\u62e9\u6dd8\u6c70\u54ea\u4e00\u9875\u7684\u89c4\u5219\u53eb\u505a\u9875\u9762\u7f6e\u6362\u7b97\u6cd5\u3002"}),"\n"]}),"\n",(0,s.jsx)(e.h2,{id:"\u4e00\u6982\u8ff0",children:"\u4e00\u3001\u6982\u8ff0"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsx)(e.p,{children:"\u5728Linux\u64cd\u4f5c\u7cfb\u7edf\u4e2d\uff0c\u5f53\u5185\u5b58\u5145\u8db3\u65f6\uff0c\u5185\u6838\u4f1a\u5c3d\u91cf\u591a\u5730\u4f7f\u7528\u5185\u5b58\u4f5c\u4e3a\u6587\u4ef6\u7f13\u5b58\uff08page cache\uff09\uff0c \u4ece\u800c\u63d0\u9ad8\u7cfb\u7edf\u7684\u6027\u80fd\u3002\u6587\u4ef6\u7f13\u5b58\u9875\u9762\u4f1a\u6dfb\u52a0\u5230\u6587\u4ef6\u7c7b\u578b\u7684LRU\u94fe\u8868\u4e2d\uff1b\u5f53\u5185\u5b58\u7d27\u5f20\u65f6\uff0c\u6587\u4ef6\u7f13\u5b58\u9875\u9762\u4f1a\u88ab\u4e22\u5f03\uff0c\u6216\u8005\u628a\u4fee\u6539\u7684\u6587\u4ef6\u7f13\u5b58\u9875\u9762\u56de\u5199\u5230\u5b58\u50a8\u8bbe\u5907\u4e2d\uff0c\u4e0e\u5757\u8bbe\u5907\u540c\u6b65\u4e4b\u540e\u4fbf\u53ef\u91ca\u653e\u51fa\u7269\u7406\u5185\u5b58\u3002"}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsx)(e.p,{children:"\u73b0\u5728\u7684\u5e94\u7528\u7a0b\u5e8f\u8f6c\u5411\u5185\u5b58\u5bc6\u96c6\u578b\uff0c\u65e0\u8bba\u7cfb\u7edf\u4e2d\u6709\u591a\u5c11\u7269\u7406\u5185\u5b58\u90fd\u662f\u4e0d\u591f\u7528\u7684\uff0c\u56e0\u6b64Linux\u64cd\u4f5c\u7cfb\u7edf\u4f1a\u4f7f\u7528\u5b58\u50a8\u8bbe\u5907\u4f5c\u4e3a\u4ea4\u6362\u5206\u533a\uff0c\u5185\u6838\u5c06\u5f88\u5c11\u4f7f\u7528\u7684\u5185\u5b58\u6362\u51fa\u5230\u4ea4\u6362\u5206\u533a\uff0c\u4ee5\u4fbf\u91ca\u653e\u51fa\u7269\u7406\u5185\u5b58\uff0c\u8fd9\u4e2a\u673a\u5236\u79f0\u4e3a\u9875\u4ea4\u6362\uff08swapping\uff09\uff0c\u8fd9\u4e9b\u5904\u7406\u673a\u5236\u7edf\u79f0\u4e3a\u9875\u9762\u56de\u6536\uff08page reclaim\uff09\u3002"}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsx)(e.p,{children:"\u5728\u6700\u8fd1\u51e0\u5341\u5e74\u64cd\u4f5c\u7cfb\u7edf\u7684\u53d1\u5c55\u8fc7\u7a0b\u4e2d\uff0c\u51fa\u73b0\u4e86\u5f88\u591a\u9875\u9762\u4ea4\u6362\u7b97\u6cd5\uff0c\u5176\u4e2d\u6bcf\u4e2a\u7b97\u6cd5\u90fd\u6709\u5404\u81ea\u7684\u4f18\u70b9\u548c\u7f3a\u70b9\u3002"}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsx)(e.p,{children:"Linux\u5185\u6838\u4e2d\u91c7\u7528\u7684\u9875\u4ea4\u6362\u7b97\u6cd5\u4e3b\u8981\u662f\u7ecf\u5178LRU\u94fe\u8868\u7b97\u6cd5\u548c\u7b2c\u4e8c\u6b21\u673a\u4f1a\uff08second chance\uff09\u6cd5\u3002"}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(e.h3,{id:"\u9875\u9762\u7f6e\u6362\u8fc7\u7a0b",children:"\u9875\u9762\u7f6e\u6362\u8fc7\u7a0b"}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"\u9875\u9762\u7f6e\u6362\u7684\u5de5\u4f5c\u6d41\u7a0b\u5982\u56fe\u6240\u793a\uff0c\u4e3b\u8981\u5305\u62ec\u4ee5\u4e0b4\u4e2a\u6b65\u9aa4\uff1a"})}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsx)(e.p,{children:"\u7b2c1\u6b65\uff1a\u627e\u51fa\u6240\u9700\u9875\u9762\u5728\u78c1\u76d8\u4e0a\u7684\u4f4d\u7f6e\u3002"}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsx)(e.p,{children:"\u7b2c2\u6b65\uff1a\u627e\u51fa\u4e00\u4e2a\u7a7a\u95f2\u5185\u5b58\u5757\u3002\u5982\u679c\u6709\u7a7a\u95f2\u5757\uff0c\u5c31\u7528\u5b83\uff1b\u5982\u679c\u6ca1\u6709\u7a7a\u95f2\u5757\uff0c\u5c31\u7528\u9875\u9762\u7f6e\u6362\u7b97\u6cd5\u9009\u62e9\u4e00\u4e2a\u53ef\u7f6e\u6362\u7684\u5185\u5b58\u5757\uff0c\u628a\u8be5\u9875\u5199\u5230\u78c1\u76d8\u4e0a\uff0c\u5e76\u76f8\u5e94\u5730\u4fee\u6539\u9875\u8868\u548c\u5b58\u50a8\u5757\u8868\u3002"}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsx)(e.p,{children:"\u7b2c3\u6b65\uff1a\u628a\u6240\u9700\u9875\u9762\u8bfb\u5165\u521a\u521a\u5f97\u5230\u7684\u5185\u5b58\u7a7a\u95f2\u5757\uff0c\u4fee\u6539\u9875\u8868\u548c\u5b58\u50a8\u5757\u8868\u3002"}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsx)(e.p,{children:"\u7b2c4\u6b65\uff1a\u91cd\u65b0\u542f\u52a8\u8be5\u7528\u6237\u8fdb\u7a0b\u3002"}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.img,{src:"https://nas.znmlr.cn:15900/markdown/2024/06/06/1.webp",alt:"1"})}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(e.h3,{id:"\u9875\u9762\u8d70\u5411",children:"\u9875\u9762\u8d70\u5411"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsx)(e.p,{children:"\u7f6e\u6362\u7b97\u6cd5\u7684\u597d\u574f\u76f4\u63a5\u5f71\u54cd\u7cfb\u7edf\u7684\u6027\u80fd\u3002\u82e5\u91c7\u7528\u7684\u7f6e\u6362\u7b97\u6cd5\u4e0d\u5408\u9002\uff0c\u53ef\u80fd\u51fa\u73b0\u8fd9\u6837\u7684\u73b0\u8c61\uff1a\u521a\u88ab\u6362\u51fa\u7684\u9875\uff0c\u5f88\u5feb\u53c8\u88ab\u8bbf\u95ee\uff0c\u4e3a\u628a\u5b83\u8c03\u5165\u800c\u6362\u51fa\u53e6\u4e00\u9875\uff0c\u4e4b\u540e\u53c8\u8bbf\u95ee\u521a\u88ab\u6362\u51fa\u7684\u9875\uff0c\u2026\u2026\u5982\u6b64\u9891\u7e41\u5730\u66f4\u6362\u9875\u9762\uff0c\u4ee5\u81f4\u7cfb\u7edf\u7684\u5927\u90e8\u5206\u65f6\u95f4\u82b1\u8d39\u5728\u9875\u9762\u7684\u8c03\u5ea6\u548c\u4f20\u8f93\u4e0a\u3002\u6b64\u65f6\uff0c\u7cfb\u7edf\u597d\u50cf\u5f88\u5fd9\uff0c\u4f46\u5b9e\u9645\u6548\u7387\u5374\u5f88\u4f4e\u3002\u8fd9\u79cd\u73b0\u8c61\u79f0\u4e3a\u201c\u6296\u52a8\u201d\u3002"}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsx)(e.p,{children:"\u597d\u7684\u9875\u9762\u7f6e\u6362\u7b97\u6cd5\u80fd\u591f\u9002\u5f53\u964d\u4f4e\u9875\u9762\u66f4\u6362\u9891\u7387\uff08\u51cf\u5c11\u7f3a\u9875\u7387\uff09\uff0c\u5c3d\u91cf\u907f\u514d\u7cfb\u7edf\u201c\u6296\u52a8\u201d\u3002"}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsx)(e.p,{children:"\u4e3a\u8bc4\u4ef7\u4e00\u4e2a\u7b97\u6cd5\u7684\u4f18\u52a3\uff0c\u53ef\u5c06\u8be5\u7b97\u6cd5\u5e94\u7528\u4e8e\u4e00\u4e2a\u7279\u5b9a\u7684\u5b58\u50a8\u8bbf\u95ee\u5e8f\u5217\uff08\u4e5f\u53eb\u9875\u9762\u8d70\u5411\uff09\u4e0a\uff0c\u5e76\u4e14\u8ba1\u7b97\u7f3a\u9875\u6570\u91cf\u3002"}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(e.h2,{id:"\u4e8c\u6700\u4f73\u7f6e\u6362\u7b97\u6cd5opt",children:"\u4e8c\u3001\u6700\u4f73\u7f6e\u6362\u7b97\u6cd5\uff08OPT\uff09"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"\u6700\u4f73\u7f6e\u6362\u7b97\u6cd5\uff0c\u5176\u6240\u9009\u62e9\u7684\u88ab\u6dd8\u6c70\u7684\u9875\u9762\u5c06\u662f\u4ee5\u540e\u6c38\u4e0d\u4f7f\u7528\u7684\uff0c\u6216\u662f\u5728\u6700\u957f\uff08\u672a\u6765\uff09\u65f6\u95f4\u5185\u4e0d\u518d\u88ab\u8bbf\u95ee\u7684\u9875\u9762\u3002\u91c7\u7528\u6700\u4f73\u7f6e\u6362\u7b97\u6cd5\u901a\u5e38\u53ef\u4fdd\u8bc1\u6700\u4f4e\u7684\u7f3a\u9875\u7387\u3002\u4f46\u662f\u4eba\u4eec\u76ee\u524d\u8fd8\u65e0\u6cd5\u4e0e\u4e4b\uff0c\u4e00\u4e2a\u8fdb\u7a0b\u5728\u5185\u5b58\u7684\u82e5\u5e72\u4e2a\u9875\u9762\u4e2d\uff0c\u54ea\u4e00\u4e2a\u9875\u9762\u662f\u672a\u6765\u6700\u957f\u65f6\u95f4\u5185\u4e0d\u518d\u88ab\u8bbf\u95ee\u7684\uff0c\u56e0\u800c\u8be5\u7b97\u6cd5\u662f\u65e0\u6cd5\u5b9e\u73b0\u7684\uff0c\u4f46\u662f\u53ef\u4ee5\u5229\u7528\u8be5\u7b97\u6cd5\u53d6\u8bc4\u4ef7\u5176\u4ed6\u7684\u7b97\u6cd5\u3002"}),"\n"]}),"\n",(0,s.jsx)(e.h3,{id:"\u7b97\u6cd5\u601d\u60f3",children:"\u7b97\u6cd5\u601d\u60f3"}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"\u4e3e\u4f8b\u5982\u4e0b\uff1a"})}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.img,{src:"https://nas.znmlr.cn:15900/markdown/2024/06/06/2.webp",alt:"2"})}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"\u6211\u4eec\u5c06\u9875\u9762\u961f\u5217\u5b58\u5728\u4e00\u4e2aVector\u52a8\u6001\u6570\u7ec4\u4e2d\u3002\u6211\u4eec\u53ef\u4ee5\u4ece\u56fe\u4e2d\u5f97\u77e5\uff1a\u5f53\u53d1\u751f\u9875\u9762\u7f6e\u6362\u65f6\uff0c\u5c31\u8981\u5bfb\u627e\u5728\u672a\u6765\u6700\u957f\u65f6\u95f4\u5185\u4e0d\u518d\u88ab\u8bbf\u95ee\u7684\u9875\u9762\uff0c\u5c06\u5176\u7f6e\u6362\u51fa\u53bb\uff0c\u6bd4\u5982\u5f53\u5185\u5b58\u4e2d\u5b58\u5728\u7684\u9875\u9762\u4e3a 7\u30010\u30011,\u4e14\u8981\u8bbf\u95ee\u9875\u97622\u65f6\uff0c\u6b64\u65f6\u6211\u4eec\u8981\u5bfb\u627e\u9875\u9762\u961f\u5217\u4e2d\u5c06\u8981\u8bbf\u95ee\u5230\u7684\u9875\u97622\u4ee5\u540e\u7684\u9875\u9762\u961f\u5217\uff080\u30013\u30010\u30014\u30012\u30013\u30010\u30013\u30012\u30011\u30012\u30010\u30011\u30017\u30010\u30011\uff09\u4e2d\uff0c\u9875\u97627\u30010\u30011\u54ea\u4e2a\u6700\u4e45\u672a\u88ab\u8bbf\u95ee\u5230\uff0c\u5373\u5bfb\u627e\u9875\u97627\u30010\u30011\u5728\u4ee5\u540e\u7684\u961f\u5217\u4e2d\u7b2c\u4e00\u6b21\u51fa\u73b0\u7684\u8fd9\u4e09\u4e2a\u9875\u9762\u7684\u4e0b\u6807\u503c\u6700\u5927\u7684\u90a3\u4e00\u4e2a\u3002"}),"\n",(0,s.jsx)(e.li,{children:"\u56e0\u4e3a\u9875\u97627\u5728\u540e\u9762\u7684\u9875\u9762\u961f\u5217\u4e2d\u518d\u6b21\u88ab\u8bbf\u95ee\u5230\u662f\u6570\u7ec4\u4e2d\u4e0b\u6807\u4e3a17\u7684\u5730\u65b9,\u9875\u97620\u518d\u6b21\u88ab\u8bbf\u95ee\u5230\u662f\u6570\u7ec4\u4e0b\u6807\u4e3a4\u7684\u5730\u65b9\uff0c\u9875\u97621\u518d\u6b21\u88ab\u8bbf\u95ee\u7684\u662f\u6570\u7ec4\u4e2d\u4e0b\u6807\u4e3a13,\u6240\u4ee5\u9875\u97627\u662f\u672a\u6765\u6700\u4e45\u624d\u88ab\u8bbf\u95ee\u7684\u9875\u9762\uff0c\u6240\u4ee5\u5c06\u9875\u97627\u7f6e\u6362\u51fa\u53bb\uff0c\u5c06\u9875\u97622\u8c03\u5165\u5185\u5b58\u4e2d\u3002"}),"\n"]}),"\n",(0,s.jsx)(e.h3,{id:"\u5177\u4f53\u7b97\u6cd5",children:(0,s.jsx)(e.strong,{children:"\u5177\u4f53\u7b97\u6cd5"})}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"\u6bcf\u4e2a\u9875\u9762\u90fd\u6709\u4e24\u4e2a\u5c5e\u6027\uff0c\u4e00\u4e2a\u662f\u9875\u9762\u53f7id\uff0c\u4e00\u4e2a\u662f\u65f6\u95f4\u53c2\u6570count\uff08\u6b64\u5c5e\u6027\u5728LRU\u4e2d\u624d\u4f1a\u7528\u5230\uff09"}),"\n"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-cpp",children:'//pageId \u8981\u8c03\u5165\u5185\u5b58\u7684\u9875\u9762\u53f7\r\n//currentPoint \u8bb0\u5f55\u5f53\u524d\u5c06\u8981\u8c03\u5165\u5185\u5b58\u4e2d\u9875\u9762\u6240\u5728\u9875\u9762\u961f\u5217\u4e2d\u7684\u4e0b\u6807\u53f7\r\nvoid OPT::replace(int pageId, int currentPoint) {\r\n    //cur\u4e3a\u5185\u5b58\u5757\u4e0b\u6807,searchCounter\u7eaa\u5f55\u662f\u5426\u5185\u5b58\u5757\u641c\u7d22\u5b8c\u6bd5\r\n    //\u5faa\u73af\u7206\u51fa\u6700\u957f\u4e3a\u4f7f\u7528\u7684\u9875\u9762\r\n    int max = 0, perCount, outPageId = -1, cur = 0;\r\n    int search_count[PRO_MEMORY];\r\n\r\n    for (int i = 0; i < PRO_MEMORY; i++) {\r\n    \t//\u6bd4\u5982\uff0c\u4ece\u9875\u97622\u540e\u9762\u7684\u9875\u9762\u5f00\u59cb\u626b\u63cf\u8bb0\u5f55\u9875\u97627\u30010\u30011\u518d\u6b21\u88ab\u8bbf\u95ee\u7684\u6570\u7ec4\u7684\u4e0b\u6807\u53f7\r\n        for (int j = currentPoint + 1; j < length; j++) {\r\n            if (pages_OPT[i].getId() == usePageNumList_OPT[j]) {\r\n                search_count[i] = j;\r\n                break;\r\n            }\r\n        }\r\n        if (search_count[i] == 0) {\r\n            search_count[i] = length;\r\n        }\r\n    }\r\n    //\u4ee5\u4e0a\u9762\u5185\u5b58\u4e2d\u5b58\u5728\u7684\u662f\u9875\u97627\u30010\u30011\u4e3a\u4f8b\u3002\u5bfb\u627e\u9875\u97627\u30010\u30011\u518d\u6b21\u88ab\u8bbf\u95ee\u7684\u4e0b\u6807\u53f7\u6700\u5927\u7684    //\u54ea\u4e2a\u9875\u9762\r\n    for (int k = 0; k < PRO_MEMORY; ++k) {\r\n        perCount = search_count[k];\r\n        if (max < perCount) {\r\n            max = perCount;\r\n            cur = k;\r\n        }\r\n    }\r\n\r\n    outPageId = pages_OPT[cur].getId();\r\n\r\n    pages_OPT[cur].setId(pageId);\r\n    cout << "\u9875\u53f7ID\uff1a" << pageId << "\u6b63\u5728\u653e\u5165\u5185\u5b58\uff0c\u9875\u53f7ID\uff1a" << outPageId << "\u88ab\u66ff\u6362\u51fa\u53bb" << endl;\r\n    ofs_OPT << "\u9875\u53f7ID\uff1a" << pageId << "\u6b63\u5728\u653e\u5165\u5185\u5b58\uff0c\u9875\u53f7ID\uff1a" << outPageId << "\u88ab\u66ff\u6362\u51fa\u53bb\\n";\r\n}\n'})}),"\n",(0,s.jsxs)(e.p,{children:["###",(0,s.jsx)(e.strong,{children:"\u8fd0\u884c\u7ed3\u679c\u622a\u56fe"})]}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.img,{src:"https://nas.znmlr.cn:15900/markdown/2024/06/06/3.webp",alt:"3"})}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.img,{src:"https://nas.znmlr.cn:15900/markdown/2024/06/06/4.webp",alt:"4"})}),"\n",(0,s.jsx)(e.h2,{id:"\u4e09\u5148\u8fdb\u5148\u51fa\u6cd5fino",children:"\u4e09\u3001\u5148\u8fdb\u5148\u51fa\u6cd5(FINO)"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsx)(e.p,{children:"\u9875\u9762\u66ff\u6362\u7b97\u6cd5\u662f\u64cd\u4f5c\u7cfb\u7edf\u4e2d\u7528\u4e8e\u89e3\u51b3\u5185\u5b58\u4e0d\u8db3\u7684\u95ee\u9898\u7684\u4e00\u79cd\u7b97\u6cd5\u3002\u5728\u5b9e\u73b0\u65f6\uff0c\u53ef\u5c06\u5185\u5b58\u5728\u7b49\u5927\u5757\uff0c\u79f0\u4f5c\u9875\u9762\uff0c\u5c06\u8fdb\u7a0b\u6240\u9700\u7684\u5185\u5b58\u4e5f\u5206\u6210\u7b49\u5927\u7684\u5757\uff0c\u5373\u9875\uff0c\u5f53\u8fdb\u7a0b\u8bbf\u95ee\u4e00\u4e2a\u65b0\u9875\u65f6\uff0c\u82e5\u5185\u5b58\u5df2\u6ee1\uff0c\u5219\u9700\u8981\u9009\u62e9\u4e00\u4e2a\u5df2\u9a7b\u7559\u7684\u9875\uff0c\u5c06\u5176\u540e\u5907\u5b58\u50a8\u8bbe\u5907\u4e2d\u7684\u5185\u5bb9\u8bfb\u5165\u5185\u5b58\u4e2d\uff0c\u4ee5\u4f7f\u65b0\u9875\u80fd\u591f\u8fdb\u5165\u5185\u5b58\u3002\u9875\u9762\u66ff\u6362\u7b97\u6cd5\u4e2d\u7684\u300c\u7ec4 2\u300d\u6307\u7684\u662f\u5148\u8fdb\u5148\u51fa\u7b97\u6cd5\uff08FIFO\uff09\u3002"}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsx)(e.p,{children:"\u8fd9\u662f\u6700\u7b80\u5355\u7684\u9875\u9762\u66ff\u6362\u7b97\u6cd5\u3002\u5728\u8be5\u7b97\u6cd5\u4e2d\uff0c\u64cd\u4f5c\u7cfb\u7edf\u8ddf\u8e2a\u961f\u5217\u4e2d\u5185\u5b58\u4e2d\u7684\u6240\u6709\u9875\u9762\uff0c\u6700\u65e7\u7684\u9875\u9762\u5728\u961f\u5217\u7684\u524d\u9762\u3002\u5f53\u4e00\u4e2a\u9875\u9762\u9700\u8981\u88ab\u66ff\u6362\u65f6\uff0c\u961f\u5217\u524d\u9762\u7684\u9875\u9762\u88ab\u9009\u4e2d\u8fdb\u884c\u5220\u9664\u3002"}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"\u793a\u4f8b-1"}),"\u3002\u8003\u8651\u9875\u9762\u5f15\u7528\u5b57\u7b26\u4e321\u30013\u30010\u30013\u30015\u30016 \u548c 3 \u9875\u69fd\u3002"]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsx)(e.p,{children:"\u6700\u521d\u6240\u6709\u7684\u69fd\u90fd\u662f\u7a7a\u7684\uff0c\u6240\u4ee5\u5f53 1\u30013\u30010 \u5230\u6765\u65f6\uff0c\u5b83\u4eec\u88ab\u5206\u914d\u5230\u7a7a\u69fd\u2014\u2014> 3\u9875\u9519\u8bef\u3002 \u5f53 3 \u51fa\u73b0\u65f6\uff0c\u5b83\u5df2\u7ecf\u5728\u5185\u5b58\u4e2d\uff0c\u6240\u4ee5 \u2014> 0 Page Faults\u3002\u7136\u540e\u662f 5\uff0c\u5b83\u5728\u5185\u5b58\u4e2d\u4e0d\u53ef\u7528\uff0c\u56e0\u6b64\u5b83\u66ff\u6362\u4e86\u6700\u65e7\u7684\u9875\u69fd\uff0c\u5373 1\u3002\u2014>1\u9875\u9519\u8bef\u3002 \u6700\u540e\u662f 6\uff0c\u5b83\u5728\u5185\u5b58\u4e2d\u4e5f\u4e0d\u53ef\u7528\uff0c\u56e0\u6b64\u5b83\u66ff\u6362\u4e86\u6700\u65e7\u7684\u9875\u69fd\uff0c\u5373 3 \u2014>1\u9875\u9519\u8bef\u3002"}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(e.h3,{id:"\u7b97\u6cd5\u5b9e\u73b0",children:"\u7b97\u6cd5\u5b9e\u73b0"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"FIFO \u7b97\u6cd5\u7b80\u5355\u6613\u61c2\uff0c\u5b9e\u73b0\u65b9\u4fbf\u3002\u5b83\u57fa\u4e8e\u961f\u5217\u6570\u636e\u7ed3\u6784\u6765\u5b9e\u73b0\uff0c\u5c06\u6700\u5148\u8fdb\u5165\u961f\u5217\u7684\u9875\u9762\u7f6e\u6362\u51fa\u53bb\uff0c\u4ee5\u4fbf\u817e\u51fa\u7a7a\u95f4\u7ed9\u65b0\u9875\u9762\u4f7f\u7528\u3002\u8fd9\u91cc\u7ed9\u51fa FIFO \u9875\u9762\u66ff\u6362\u7b97\u6cd5\u7684\u793a\u4f8b\u4ee3\u7801"}),"\n"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-cpp",children:'#include <iostream>\r\n#include <queue>\r\nusing namespace std;\r\n\r\nint FIFO(int pages[], int n, int capacity) {\r\n    queue<int> pageQueue; \t// \u7528\u4e8e\u5b58\u50a8\u9875\u9762\u7684\u961f\u5217\r\n    int pageFaults = 0; \t// \u9875\u9762\u9519\u8bef\u6b21\u6570\r\n\r\n    for (int i = 0; i < n; i++) {\r\n        if (pageQueue.size() < capacity) { // \u961f\u5217\u672a\u6ee1\u65f6\u76f4\u63a5\u63d2\u5165\u9875\u9762\r\n            if (!pageQueue.empty() && pageQueue.front() == pages[i]) {\r\n                continue;\r\n            }\r\n            pageQueue.push(pages[i]);\r\n            pageFaults++;\r\n        } else { // \u961f\u5217\u5df2\u6ee1\uff0c\u8fdb\u884c\u9875\u9762\u66ff\u6362\r\n            if (pageQueue.front() != pages[i]) {\r\n                pageQueue.pop();\r\n                pageQueue.push(pages[i]);\r\n                pageFaults++;\r\n            }\r\n        }\r\n    }\r\n    \r\n    return pageFaults;\r\n}\r\n\r\nint main() {\r\n    int pages[] = {2, 3, 1, 4, 5, 2, 1}; \t\t// \u9875\u9762\u5f15\u7528\u5e8f\u5217\r\n    int n = sizeof(pages) / sizeof(pages[0]); \t// \u9875\u9762\u5f15\u7528\u5e8f\u5217\u957f\u5ea6\r\n    int capacity = 3; \t\t\t\t\t\t\t// \u9875\u9762\u5e27\u6570\r\n\r\n    int faults = FIFO(pages, n, capacity);\r\n    cout << "Total Page Faults: " << faults << endl;\r\n\r\n    return 0;\r\n}\n'})}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"\u8fd9\u4e2a\u793a\u4f8b\u4f7f\u7528\u4e86\u4e00\u4e2a\u961f\u5217\u6765\u6a21\u62df\u5185\u5b58\u4e2d\u7684\u9875\u9762\u5e27\uff0c\u5f53\u961f\u5217\u672a\u6ee1\u65f6\u76f4\u63a5\u63d2\u5165\u9875\u9762\uff0c\u5f53\u961f\u5217\u5df2\u6ee1\u65f6\u8fdb\u884c\u9875\u9762\u66ff\u6362\u3002\u6bcf\u6b21\u53d1\u751f\u9875\u9762\u9519\u8bef\uff08\u5373\u8bbf\u95ee\u4e0d\u5728\u5185\u5b58\u4e2d\u7684\u9875\u9762\uff09\u65f6\uff0c\u8ba1\u6570\u5668\u589e\u52a0\u3002\u6700\u540e\u8f93\u51fa\u603b\u7684\u9875\u9762\u9519\u8bef\u6b21\u6570\u3002"}),"\n"]}),"\n",(0,s.jsx)(e.h3,{id:"\u7b97\u6cd5\u5206\u6790",children:"\u7b97\u6cd5\u5206\u6790"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsx)(e.p,{children:"FIFO \u9875\u9762\u66ff\u6362\u7b97\u6cd5\u7684\u4f18\u70b9\u662f\u7b80\u5355\u6613\u61c2\uff0c\u5b9e\u73b0\u65b9\u4fbf\u3002\u5b83\u4e0d\u9700\u8981\u5bf9\u8fdb\u7a0b\u8bbf\u95ee\u7684\u9875\u9762\u505a\u7279\u5b9a\u7684\u8bbf\u95ee\u89c4\u5212\uff0c\u56e0\u6b64\u9002\u7528\u4e8e\u4efb\u4f55\u8fdb\u7a0b\u3002\u53e6\u5916\uff0c\u7531\u4e8e FIFO \u7b97\u6cd5\u4e25\u683c\u6309\u7167\u9875\u9762\u8fdb\u5165\u5185\u5b58\u7684\u987a\u5e8f\u8fdb\u884c\u66ff\u6362\uff0c\u6240\u4ee5\u53ef\u4ee5\u4fdd\u8bc1\u6bcf\u4e2a\u9875\u9762\u7684\u7b49\u5f85\u65f6\u95f4\u76f8\u540c\uff0c\u907f\u514d\u4e86\u67d0\u4e9b\u9875\u9762\u603b\u662f\u88ab\u66ff\u6362\u7684\u95ee\u9898\u3002"}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsx)(e.p,{children:"\u7136\u800c\uff0cFIFO \u9875\u9762\u66ff\u6362\u7b97\u6cd5\u4e5f\u5b58\u5728\u660e\u663e\u7684\u7f3a\u9677\u3002\u7531\u4e8e\u8be5\u7b97\u6cd5\u53ea\u5173\u6ce8\u9875\u9762\u8fdb\u5165\u5185\u5b58\u7684\u65f6\u95f4\uff0c\u800c\u672a\u8003\u8651\u5404\u9875\u9762\u7684\u91cd\u8981\u6027\u548c\u4f7f\u7528\u9891\u7387\uff0c\u56e0\u6b64\u4f1a\u5bfc\u81f4\u67d0\u4e9b\u9891\u7e41\u4f7f\u7528\u7684\u9875\u9762\u88ab\u4e0d\u5fc5\u8981\u5730\u66ff\u6362\u51fa\u53bb\uff0c\u4ece\u800c\u964d\u4f4e\u7cfb\u7edf\u7684\u6027\u80fd\u3002\u6b64\u5916\uff0cFIFO \u7b97\u6cd5\u8fd8\u5bb9\u6613\u53d7\u5230\u5c40\u90e8\u6027\u539f\u7406\u7684\u5f71\u54cd\uff0c\u5373\u521a\u521a\u88ab\u8bbf\u95ee\u7684\u9875\u9762\u5f88\u53ef\u80fd\u5f88\u5feb\u518d\u6b21\u88ab\u8bbf\u95ee\uff0c\u4f46\u7531\u4e8e FIFO \u7b97\u6cd5\u53ea\u8003\u8651\u9875\u9762\u8fdb\u5165\u5185\u5b58\u7684\u65f6\u95f4\uff0c\u56e0\u6b64\u53ef\u80fd\u5bfc\u81f4\u8fd9\u4e9b\u91cd\u8981\u9875\u9762\u88ab\u66ff\u6362\u51fa\u53bb\u3002"}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(e.h2,{id:"\u56db\u7ecf\u5178lru\u94fe\u8868\u7b97\u6cd5",children:"\u56db\u3001\u7ecf\u5178LRU\u94fe\u8868\u7b97\u6cd5"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"LRU\u662fLeast Recently Used\u7684\u7f29\u5199\uff0c\u610f\u4e3a\u6700\u8fd1\u6700\u5c11\u4f7f\u7528\u3002\u6839\u636e\u5c40\u90e8\u6027\u539f\u7406\uff0cLRU\u5047\u5b9a\u6700\u8fd1\u4e0d\u4f7f\u7528\u7684\u9875\u9762\u5728\u8f83\u77ed\u7684\u65f6\u95f4\u5185\u4e5f\u4e0d\u4f1a\u9891\u7e41\u4f7f\u7528\u3002\u5728\u5185\u5b58\u4e0d\u8db3\u65f6\uff0c\u8fd9\u4e9b\u9875\u9762\u5c06\u6210\u4e3a\u88ab\u6362\u51fa\u7684\u5019\u9009\u8005\u3002\u5185\u6838\u4f7f\u7528\u53cc\u5411\u94fe\u8868\u6765\u5b9a\u4e49LRU\u94fe\u8868\uff0c\u5e76\u4e14\u6839\u636e\u9875\u9762\u7684\u7c7b\u578b\u5c06LRU\u94fe\u8868\u5206\u4e3aLRU_ANON\u548cLRU_FILE\u3002\u6bcf\u79cd\u7c7b\u578b\u6839\u636e\u9875\u9762\u7684\u6d3b\u8dc3\u6027\u5206\u4e3a\u6d3b\u8dc3LRU\u94fe\u8868\u548c\u4e0d\u6d3b\u8dc3LRU\u94fe\u8868\uff0c\u6240\u4ee5\u5185\u6838\u4e2d\u4e00\u5171\u6709\u5982\u4e0b5\u4e2aLRU\u94fe\u8868\uff1a"}),"\n"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-cpp",children:"// \u5b9a\u4e49\u4e86\u5404\u79cd LRU \u94fe\u8868\u7684\u7c7b\u578b\r\nenum lru_list {\r\n\t// \u4e0d\u6d3b\u8dc3\u533f\u540d\u9875\u9762\u94fe\u8868\r\n    LRU_INACTIVE_ANON = LRU_BASE,\r\n    // \u6d3b\u8dc3\u533f\u540d\u9875\u9762\u94fe\u8868\r\n\tLRU_ACTIVE_ANON = LRU_BASE + LRU_ACTIVE,\r\n    // \u4e0d\u6d3b\u8dc3\u6587\u4ef6\u6620\u5c04\u9875\u9762\u94fe\u8868\r\n\tLRU_INACTIVE_FILE = LRU_BASE + LRU_FILE,\r\n    // \u6d3b\u8dc3\u6587\u4ef6\u6620\u5c04\u9875\u9762\u94fe\u8868\r\n\tLRU_ACTIVE_FILE = LRU_BASE + LRU_FILE + LRU_ACTIVE,\r\n    // \u4e0d\u53ef\u56de\u6536\u9875\u9762\u94fe\u8868\r\n\tLRU_UNEVICTABLE,\r\n\tNR_LRU_LISTS\r\n};\n"})}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"LRU\u94fe\u8868\u4e4b\u6240\u4ee5\u8981\u5206\u6210\u8fd9\u6837\uff0c\u662f\u56e0\u4e3a\u5f53\u5185\u5b58\u7d27\u7f3a\u65f6\u603b\u662f\u4f18\u5148\u6362\u51fa\u6587\u4ef6\u6620\u5c04\u7684\u6587\u4ef6\u7f13\u5b58\u9875\u9762 \uff08LRU_FILE\u94fe\u8868\u4e2d\u7684\u9875\u9762\uff09\uff0c\u800c\u4e0d\u662f\u533f\u540d\u9875\u9762\u3002\u56e0\u4e3a\u5927\u591a\u6570\u60c5\u51b5\u4e0b\uff0c\u6587\u4ef6\u7f13\u5b58\u9875\u9762\u4e0d\u9700\u8981\u88ab\u56de\u5199\u5230\u78c1\u76d8\uff0c\u9664\u975e\u9875\u9762\u5185\u5bb9\u4fee\u6539\u4e86\uff08\u79f0\u4e3a\u810f\u9875\uff09\uff0c\u800c\u533f\u540d\u9875\u9762\u603b\u662f\u8981\u5728\u5199\u5165\u4ea4\u6362\u5206\u533a\u4e4b\u540e\uff0c\u624d\u80fd\u88ab\u6362\u51fa\u3002LRU\u94fe\u8868\u6309\u7167\u5185\u5b58\u8282\u70b9\u914d\u7f6e\uff0c\u4e5f\u5c31\u662f\u8bf4\uff0c\u6bcf\u4e2a\u5185\u5b58\u8282\u70b9\u4e2d\u90fd\u6709\u4e00\u6574\u5957LRU\u94fe\u8868\uff0c\u56e0\u6b64\u5185\u5b58\u8282\u70b9\u7684\u63cf\u8ff0\u7b26\u6570\u636e\u7ed3\u6784\uff08pglist_data\uff09\u4e2d\u6709\u4e00\u4e2a\u6210\u5458lruvec\u6307\u5411\u8fd9\u4e9b\u94fe\u8868\u3002\u679a\u4e3e\u7c7b\u578b\u53d8\u91cflru_list \u5217\u4e3e\u51fa\u4e0a\u8ff0\u5404\u79cdLRU\u94fe\u8868\u7684\u7c7b\u578b\uff0clruvec\u6570\u636e\u7ed3\u6784\u4e2d\u5b9a\u4e49\u4e86\u4e0a\u8ff0\u5404\u79cdLRU\u7c7b\u578b\u7684\u94fe\u8868\uff1a"}),"\n"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-cpp",children:"// \u5b9a\u4e49\u4e86\u5404\u79cd LRU \u94fe\u8868\r\nstruct lruvec {\r\n\tstruct list_head\t\tlists[NR_LRU_LISTS];\r\n\t...\r\n};\r\n\r\n// \u5185\u5b58\u8282\u70b9\u7684\u6570\u636e\u7ed3\u6784\r\ntypedef struct pglist_data {\r\n\t// \u6bcf\u4e2a\u5185\u5b58\u8282\u70b9\u4e2d\u90fd\u6709\u4e00\u6574\u5957 LRU \u94fe\u8868\uff0c\u7531 lruvec \u6307\u5411\r\n\tstruct lruvec\t\tlruvec;\r\n} pg_data_t;\n"})}),"\n",(0,s.jsx)(e.p,{children:"\u4e07\u4e8b\u4ece\u56fe\u8bf4\u8d77\uff0c\u7ecf\u5178LRU\u94fe\u8868\u7b97\u6cd5\u5982\u4e0b\u56fe\u6240\u793a\uff1a"}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.img,{src:"https://nas.znmlr.cn:15900/markdown/2024/06/06/5.webp",alt:"5"})}),"\n",(0,s.jsx)(e.p,{children:"\u4e3a\u4e86\u4f7f\u8bfb\u8005\u6709\u66f4\u771f\u5207\u7684\u7406\u89e3\uff0c\u4e0b\u6587\u5c06\u6839\u636e\u6d41\u7a0b\u56fe\u56f4\u7ed5\u6e90\u4ee3\u7801\u8fdb\u884c\u8bb2\u89e3\u8fd9\u4e2a\u8fc7\u7a0b\uff1a"}),"\n",(0,s.jsx)(e.h3,{id:"\u5c06\u9875\u9762\u52a0\u5165-lru-\u94fe\u8868",children:(0,s.jsx)(e.strong,{children:"\u5c06\u9875\u9762\u52a0\u5165 LRU \u94fe\u8868"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-cpp",children:"static void __lru_cache_add(struct page *page) {\r\n\t// \u8fd9\u91cc\u4f7f\u7528\u4e86\u9875\u5411\u91cf\u6570\u636e\u7ed3\u6784\uff0c\u501f\u52a9\u4e00\u4e2a\u6570\u7ec4\u6765\u4fdd\u5b58\u7279\u5b9a\u6570\u76ee\u7684\u9875\uff0c\u53ef\u4ee5\u5bf9\u8fd9\u4e9b\u9875\u9762\u6267\u884c\u540c\u6837\u7684\u64cd\u4f5c\r\n\t// \u9875\u5411\u91cf\u4f1a\u4ee5\u201c\u6279\u5904\u7406\u7684\u65b9\u5f0f\u201d\u6267\u884c\uff0c\u6bd4\u5355\u72ec\u5904\u7406\u4e00\u4e2a\u9875\u9762\u7684\u65b9\u5f0f\u6548\u7387\u8981\u9ad8\r\n\tstruct pagevec *pvec = &get_cpu_var(lru_add_pvec);\r\n\r\n\tget_page(page);\r\n\t// pagevec_add() \u51fd\u6570\u9996\u5148\u5f80 pvec->pages[] \u6570\u7ec4\u91cc\u6dfb\u52a0\u9875\u9762\uff0c\r\n\t// \u5982\u679c\u6ca1\u6709\u7a7a\u95f4\u4e86\uff0c\u5219\u8c03\u7528 __pagevec_lru_add() \u51fd\u6570\u628a\u539f\u6709\u7684\u9875\u9762\u6dfb\u52a0\u5230 LRU \u94fe\u8868\u4e2d\r\n\tif (!pagevec_add(pvec, page) || PageCompound(page))\r\n\t\t__pagevec_lru_add(pvec);\r\n\tput_cpu_var(lru_add_pvec);\r\n}\r\n\r\nvoid lru_cache_add(struct page *page) {\r\n\t...\r\n\t__lru_cache_add(page);\r\n}\n"})}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"lru_to_page(&lru_list)\u548clist_del(&page->lru)\u51fd\u6570\u7684\u7ec4\u5408\u7528\u4e8e\u4eceLRU\u94fe\u8868\u4e2d\u83b7\u53d6\u9875\u9762\u3002\u5176\u4e2d\uff0clru_to_page()\u7684\u5b9e\u73b0\u5982\u4e0b\uff1a"}),"\n"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-cpp",children:"#define lru_to_page(head) (list_entry((head)->prev, struct page, lru))\n"})}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsx)(e.p,{children:"lru_to_page()\u4f7f\u7528\u4e86(head)->prev\uff0c\u8868\u793a\u4ece\u94fe\u8868\u7684\u672b\u5c3e\u83b7\u53d6\u9875\u9762\u3002\u56e0\u6b64\uff0cLRU\u94fe\u8868\u5b9e\u73b0\u4e86 FIFO\u7b97\u6cd5\u3002\u6700\u5148\u8fdb\u5165LRU\u94fe\u8868\u7684\u9875\u9762\u5728LRU\u4e2d\u7684\u65f6\u95f4\u4f1a\u8d8a\u957f\uff0c\u8001\u5316\u65f6\u95f4\u4e5f\u8d8a\u957f\u3002"}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsx)(e.p,{children:"\u5728\u7cfb\u7edf\u6267\u884c\u8fc7\u7a0b\u4e2d\uff0c\u9875\u9762\u603b\u662f\u5728\u6d3b\u8dc3LRU\u94fe\u8868\u548c\u4e0d\u6d3b\u8dc3LRU\u94fe\u8868\u4e4b\u95f4\u8f6c\u79fb\uff0c\u4e0d\u662f\u6bcf\u6b21\u8bbf\u95ee\u5185\u5b58\u9875\u9762\u90fd\u4f1a\u53d1\u751f\u8fd9\u79cd\u8f6c\u79fb\uff0c\u800c\u662f\u53d1\u751f\u7684\u65f6\u95f4\u95f4\u9694\u6bd4\u8f83\u957f\u3002\u968f\u7740\u65f6\u95f4\u7684\u63a8\u79fb\uff0c\u8fd9\u4f1a\u5bfc\u81f4\u2014\u79cd\u70ed\u5e73\u8861\uff0c\u6700\u4e0d\u5e38\u7528\u7684\u9875\u9762\u5c06\u6162\u6162\u79fb\u52a8\u5230\u4e0d\u6d3b\u8dc3LRU\u94fe\u8868\u7684\u672b\u5c3e\uff0c\u8fd9\u4e9b\u9875\u9762\u6b63\u662f\u9875\u9762\u56de\u6536\u4e2d\u6700\u5408\u9002\u7684\u5019\u9009\u8005\u3002"}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(e.h2,{id:"\u4e94\u65f6\u949f\u7f6e\u6362\u7b97\u6cd5",children:"\u4e94\u3001\u65f6\u949f\u7f6e\u6362\u7b97\u6cd5"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsx)(e.p,{children:"\u65f6\u949f\u7f6e\u6362\u7b97\u6cd5\u53ef\u4ee5\u8ba4\u4e3a\u662f\u4e00\u79cd\u6700\u8fd1\u672a\u4f7f\u7528\u7b97\u6cd5\uff0c\u5373\u9010\u51fa\u7684\u9875\u9762\u90fd\u662f\u6700\u8fd1\u6ca1\u6709\u4f7f\u7528\u7684\u90a3\u4e2a\u3002\u6211\u4eec\u7ed9\u6bcf\u4e00\u4e2a\u9875\u9762\u8bbe\u7f6e\u4e00\u4e2a\u6807\u8bb0\u4f4du\uff0cu=1\u8868\u793a\u6700\u8fd1\u6709\u4f7f\u7528u=0\u5219\u8868\u793a\u8be5\u9875\u9762\u6700\u8fd1\u6ca1\u6709\u88ab\u4f7f\u7528\uff0c\u5e94\u8be5\u88ab\u9010\u51fa\u3002"}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsx)(e.p,{children:"\u6309\u71671-2-3-4\u7684\u987a\u5e8f\u8bbf\u95ee\u9875\u9762\uff0c\u5219\u7f13\u51b2\u6c60\u4f1a\u4ee5\u8fd9\u6837\u7684\u4e00\u79cd\u987a\u5e8f\u88ab\u586b\u6ee1\uff1a"}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.img,{src:"https://nas.znmlr.cn:15900/markdown/2024/06/06/6.webp",alt:"6"})}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsx)(e.p,{children:"\u6ce8\u610f\u4e2d\u95f4\u7684\u6307\u9488\uff0c\u5c31\u50cf\u662f\u65f6\u949f\u7684\u6307\u9488\u4e00\u6837\u5728\u79fb\u52a8\uff0c\u8fd9\u6837\u7684\u8bbf\u95ee\u7ed3\u675f\u540e\uff0c\u7f13\u51b2\u6c60\u91cc\u73b0\u5728\u5df2\u7ecf\u88ab\u586b\u6ee1\u4e86\uff0c\u6b64\u65f6\u5982\u679c\u8981\u6309\u71671-5\u7684\u987a\u5e8f\u8bbf\u95ee\uff0c\u90a3\u4e48\u5728\u8bbf\u95ee1\u7684\u65f6\u5019\u662f\u53ef\u4ee5\u76f4\u63a5\u547d\u4e2d\u7f13\u5b58\u8fd4\u56de\u7684\uff0c\u4f46\u662f\u8bbf\u95ee5\u7684\u65f6\u5019\uff0c\u56e0\u4e3a\u7f13\u51b2\u6c60\u5df2\u7ecf\u6ee1\u4e86\uff0c\u6240\u4ee5\u8981\u8fdb\u884c\u4e00\u6b21\u9010\u51fa\u64cd\u4f5c\uff0c\u5176\u64cd\u4f5c\u793a\u610f\u56fe\u5982\u4e0b\uff1a"}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.img,{src:"https://nas.znmlr.cn:15900/markdown/2024/06/06/7.webp",alt:"7"})}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsxs)(e.p,{children:["\u6700\u521d\u8981\u7ecf\u8fc7\u4e00\u8f6e\u904d\u5386\uff0c\u6bcf\u6b21\u904d\u5386\u5230\u4e00\u4e2a\u8282\u70b9\u53d1\u73b0u=1\u7684\uff0c\u5c06\u8be5\u6807\u8bb0\u4f4d\u7f6e\u4e3a0\uff0c\u7136\u540e\u904d\u5386\u4e0b\u4e00\u4e2a\u9875\u9762\uff0c\u4e00\u8f6e\u904d\u5386\u5b8c\u540e\uff0c\u53d1\u73b0\u6ca1\u6709\u53ef\u4ee5\u88ab\u9010\u51fa\u7684\u9875\u9762\uff0c\u5219\u8fdb\u884c\u4e0b\u4e00\u8f6e\u904d\u5386\uff0c\u8fd9\u6b21\u904d\u5386\u4e4b\u540e\u53d1\u73b0\u539f\u51481\u53f7\u9875\u9762\u7684\u6807\u8bb0\u4f4du=0\uff0c\u5219\u5c06\u8be5\u9875\u9762\u9010\u51fa\uff0c\u7f6e\u6362\u4e3a\u9875\u97625\uff0c\u5e76\u5c06\u6307\u9488\u6307\u5411\u4e0b\u4e00\u4e2a\u9875\u9762\u3002\r\n\u5047\u8bbe\u6211\u4eec\u63a5\u4e0b\u6765\u4f1a\u8bbf\u95ee2\u53f7\u9875\u9762\uff0c\u90a3\u4e48\u53ef\u4ee5\u76f4\u63a5\u547d\u4e2d\u6307\u9488\u6307\u5411\u7684\u9875\u9762\uff0c\u5e76\u5c06\u8fd9\u4e2a\u9875\u9762\u7684\u6807\u8bb0\u4e3au\u7f6e\u4e3a1\u3002",(0,s.jsx)("br",{}),"\r\n\u4f46\u662f\u8003\u8651\u4e00\u4e2a\u95ee\u9898\uff0c\u6570\u636e\u5e93\u91cc\u9010\u51fa\u7684\u9875\u9762\u662f\u8981\u5199\u56de\u78c1\u76d8\u7684\uff0c\u8fd9\u662f\u4e00\u4e2a\u5f88\u6602\u8d35\u7684\u64cd\u4f5c\uff0c\u56e0\u6b64\u6211\u4eec\u5e94\u8be5\u4f18\u5148\u8003\u8651\u9010\u51fa\u90a3\u4e9b\u6ca1\u6709\u88ab\u4fee\u6539\u7684\u9875\u9762\uff0c\u8fd9\u6837\u53ef\u4ee5\u964d\u4f4eIO\u3002\r\n\u56e0\u6b64\u5728\u65f6\u949f\u7f6e\u6362\u7b97\u6cd5\u7684\u57fa\u7840\u4e0a\u53ef\u4ee5\u505a\u4e00\u4e2a\u6539\u8fdb\uff0c\u5c31\u662f\u589e\u52a0\u4e00\u4e2a\u6807\u8bb0\u4e3am\uff0c\u4fee\u6539\u8fc7\u6807\u8bb0\u4e3a1\uff0c\u6ca1\u6709\u4fee\u6539\u8fc7\u5219\u6807\u8bb0\u4e3a0\u3002\u90a3\u4e48u\u548cm\u7ec4\u6210\u4e86\u4e00\u4e2a\u5143\u7ec4\uff0c\u6709\u56db\u79cd\u53ef\u80fd\uff0c\u5176\u88ab\u9010\u51fa\u7684\u4f18\u5148\u987a\u5e8f\u4e5f\u4e0d\u4e00\u6837\uff1a"]}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsx)(e.p,{children:"(u=0, m=0) \u6ca1\u6709\u4f7f\u7528\u4e5f\u6ca1\u6709\u4fee\u6539\uff0c\u88ab\u9010\u51fa\u7684\u4f18\u5148\u7ea7\u6700\u9ad8\uff1b"}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsx)(e.p,{children:"(u=1, m=0) \u4f7f\u7528\u8fc7\uff0c\u4f46\u662f\u6ca1\u6709\u4fee\u6539\u8fc7\uff0c\u4f18\u5148\u7ea7\u7b2c\u4e8c\uff1b"}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsx)(e.p,{children:"(u=0, m=1) \u6ca1\u6709\u4f7f\u7528\u8fc7\uff0c\u4f46\u662f\u4fee\u6539\u8fc7\uff0c\u4f18\u5148\u7ea7\u7b2c\u4e09\uff1b"}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsx)(e.p,{children:"(u=1, m=1) \u4f7f\u7528\u8fc7\u4e5f\u4fee\u6539\u8fc7\uff0c\u4f18\u5148\u7ea7\u7b2c\u56db\u3002"}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(e.h2,{id:"\u516d\u603b\u7ed3",children:"\u516d\u3001\u603b\u7ed3"}),"\n",(0,s.jsxs)(e.ol,{children:["\n",(0,s.jsx)(e.li,{children:"\u57fa\u4e8e\u5c40\u90e8\u6027\u539f\u7406\uff1a\u6839\u636e\u7a0b\u5e8f\u6267\u884c\u7684\u5c40\u90e8\u6027\u539f\u7406\uff0c\u6709\u65f6\u4f1a\u53d1\u73b0\u9875\u9762\u7684\u8bbf\u95ee\u6a21\u5f0f\u5e76\u4e0d\u662f\u5b8c\u5168\u968f\u673a\u7684\uff0c\u800c\u662f\u5b58\u5728\u4e00\u5b9a\u7684\u987a\u5e8f\u6027\u3002\u56e0\u6b64\uff0c\u53ef\u4ee5\u5c1d\u8bd5\u57fa\u4e8e\u8fd9\u79cd\u5c40\u90e8\u6027\u539f\u7406\u8fdb\u884c\u4f18\u5316\u3002\u4f8b\u5982\uff0c\u53ef\u4ee5\u4f7f\u7528\u9884\u53d6\u7b97\u6cd5\uff08\u5982\u9884\u8bfb\u53d6\u3001\u9884\u6d4b\u7b49\uff09\u6765\u63d0\u524d\u5c06\u53ef\u80fd\u88ab\u8bbf\u95ee\u5230\u7684\u9875\u9762\u52a0\u8f7d\u5230\u5185\u5b58\u4e2d\u3002"}),"\n",(0,s.jsx)(e.li,{children:"\u9002\u5e94\u5de5\u4f5c\u96c6\u6a21\u578b\uff1a\u5de5\u4f5c\u96c6\u6a21\u578b\u6307\u51fa\u4e00\u4e2a\u8fdb\u7a0b\u5728\u67d0\u4e2a\u65f6\u95f4\u6bb5\u5185\u6240\u8bbf\u95ee\u7684\u9875\u9762\u96c6\u5408\u79f0\u4e3a\u5176\u5de5\u4f5c\u96c6\u3002\u901a\u8fc7\u4e86\u89e3\u6bcf\u4e2a\u8fdb\u7a0b\u7684\u5de5\u4f5c\u96c6\u60c5\u51b5\uff0c\u53ef\u4ee5\u66f4\u597d\u5730\u7ba1\u7406\u548c\u8c03\u5ea6\u5185\u5b58\u8d44\u6e90\u3002\u4f8b\u5982\uff0c\u5728\u7f3a\u9875\u4e2d\u65ad\u53d1\u751f\u65f6\uff0c\u4f18\u5148\u9009\u62e9\u5c5e\u4e8e\u5f53\u524d\u8fdb\u7a0b\u5de5\u4f5c\u96c6\u4e2d\u9875\u9762\u8fdb\u884c\u7f6e\u6362\u3002"}),"\n",(0,s.jsx)(e.li,{children:"\u9875\u9762\u66ff\u6362\u7b56\u7565\uff1a\u4e0d\u540c\u7684\u9875\u9762\u66ff\u6362\u7b97\u6cd5\u5bf9\u4e8e\u4e0d\u540c\u7684\u573a\u666f\u548c\u5de5\u4f5c\u8d1f\u8f7d\u5177\u6709\u4e0d\u540c\u7684\u8868\u73b0\u3002\u5e38\u89c1\u7684\u9875\u9762\u66ff\u6362\u7b97\u6cd5\u5305\u62ec\u6700\u8fd1\u6700\u5c11\u4f7f\u7528\uff08LRU\uff09\u3001\u6700\u4e0d\u7ecf\u5e38\u4f7f\u7528\uff08LFU\uff09\u3001\u65f6\u949f\uff08Clock\uff09\u7b49\u3002\u9009\u62e9\u5408\u9002\u7684\u9875\u9762\u66ff\u6362\u7b56\u7565\u53ef\u4ee5\u663e\u8457\u5f71\u54cd\u6027\u80fd\u3002"}),"\n",(0,s.jsx)(e.li,{children:"\u806a\u660e\u5730\u8bbe\u7f6e\u9875\u9762\u5927\u5c0f\uff1a\u9875\u9762\u5927\u5c0f\u5bf9\u9875\u4ea4\u6362\u7b97\u6cd5\u4e5f\u6709\u4e00\u5b9a\u5f71\u54cd\u3002\u8f83\u5c0f\u7684\u9875\u9762\u5927\u5c0f\u53ef\u80fd\u5bfc\u81f4\u66f4\u591a\u7684\u5185\u5b58\u788e\u7247\u548c\u66f4\u9891\u7e41\u7684\u9875\u9762\u7f6e\u6362\uff0c\u800c\u8f83\u5927\u7684\u9875\u9762\u5927\u5c0f\u53ef\u80fd\u5bfc\u81f4\u66f4\u591a\u7684\u5185\u5b58\u6d6a\u8d39\u3002\u56e0\u6b64\uff0c\u9700\u8981\u6839\u636e\u7cfb\u7edf\u7684\u5b9e\u9645\u60c5\u51b5\u548c\u5de5\u4f5c\u8d1f\u8f7d\u6765\u9009\u62e9\u5408\u9002\u7684\u9875\u9762\u5927\u5c0f\u3002"}),"\n",(0,s.jsx)(e.li,{children:"\u538b\u7f29\u6280\u672f\uff1a\u538b\u7f29\u6280\u672f\u53ef\u4ee5\u901a\u8fc7\u51cf\u5c0f\u9875\u9762\u5360\u7528\u7684\u7269\u7406\u5185\u5b58\u7a7a\u95f4\u6765\u4f18\u5316\u9875\u4ea4\u6362\u7b97\u6cd5\u3002\u5f53\u4e00\u4e2a\u9875\u9762\u88ab\u7f6e\u6362\u51fa\u53bb\u65f6\uff0c\u5982\u679c\u5176\u5185\u5bb9\u80fd\u591f\u8fdb\u884c\u538b\u7f29\uff0c\u5219\u53ef\u4ee5\u8282\u7701\u4e00\u5b9a\u6570\u91cf\u7684\u7269\u7406\u5185\u5b58\u7a7a\u95f4\u3002"}),"\n",(0,s.jsx)(e.li,{children:"\u591a\u7ea7\u9875\u8868\u548c\u53cd\u5411\u9875\u8868\uff1a\u5bf9\u4e8e\u5927\u578b\u5185\u5b58\u7cfb\u7edf\uff0c\u4f7f\u7528\u591a\u7ea7\u9875\u8868\u6216\u53cd\u5411\u9875\u8868\u53ef\u4ee5\u51cf\u5c11\u9875\u8868\u5360\u7528\u7684\u5185\u5b58\u7a7a\u95f4\uff0c\u5e76\u52a0\u5feb\u67e5\u627e\u67d0\u4e2a\u865a\u62df\u5730\u5740\u5bf9\u5e94\u7684\u7269\u7406\u5730\u5740\u6240\u9700\u65f6\u95f4\u3002"}),"\n"]})]})}function p(n={}){const{wrapper:e}={...(0,l.R)(),...n.components};return e?(0,s.jsx)(e,{...n,children:(0,s.jsx)(u,{...n})}):u(n)}},8453:(n,e,r)=>{r.d(e,{R:()=>c,x:()=>t});var s=r(6540);const l={},i=s.createContext(l);function c(n){const e=s.useContext(i);return s.useMemo((function(){return"function"==typeof n?n(e):{...e,...n}}),[e,n])}function t(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(l):n.components||l:c(n.components),s.createElement(i.Provider,{value:e},n.children)}}}]);